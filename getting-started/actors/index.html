<!DOCTYPE html>
<html lang="en-us">
<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<title>Actors - Orbit</title>
<meta name="generator" content="Hugo 0.71.1" />
<link href="/orbitindex.xml" rel="alternate" type="application/rss+xml">
<link rel="canonical" href="/orbit/getting-started/actors/">
<link rel="stylesheet" href="/orbit/css/theme.min.css">
<script src="https://use.fontawesome.com/releases/v5.0.6/js/all.js"></script>
<link rel="stylesheet" href="/orbit/css/chroma.min.css">
<script src="https://cdn.jsdelivr.net/npm/jquery@3.4.1/dist/jquery.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/jquery.easing@1.4.1/jquery.easing.min.js"></script>
<script src="/orbit/js/bundle.js"></script><style>
:root {}
</style>
<meta property="og:title" content="Actors" />
<meta property="og:description" content="Actors are the most common form of addressable and are suitable for most situations. The distinction is semantic and Actor interfaces are provided to facilitate the actor pattern.
Actors are never created or destroyed; they always exist conceptually. Not all actors in Orbit will be in-memory in the cluster at a given time. Actors which are in-memory are considered “activated” and those which are not are “deactivated”. The process of an actor being created in-memory is known as “Activation” and the process of an actor being removed from memory is known as “Deactivation”." />
<meta property="og:type" content="article" />
<meta property="og:url" content="/orbit/getting-started/actors/" />

<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Actors"/>
<meta name="twitter:description" content="Actors are the most common form of addressable and are suitable for most situations. The distinction is semantic and Actor interfaces are provided to facilitate the actor pattern.
Actors are never created or destroyed; they always exist conceptually. Not all actors in Orbit will be in-memory in the cluster at a given time. Actors which are in-memory are considered “activated” and those which are not are “deactivated”. The process of an actor being created in-memory is known as “Activation” and the process of an actor being removed from memory is known as “Deactivation”."/>
<meta itemprop="name" content="Actors">
<meta itemprop="description" content="Actors are the most common form of addressable and are suitable for most situations. The distinction is semantic and Actor interfaces are provided to facilitate the actor pattern.
Actors are never created or destroyed; they always exist conceptually. Not all actors in Orbit will be in-memory in the cluster at a given time. Actors which are in-memory are considered “activated” and those which are not are “deactivated”. The process of an actor being created in-memory is known as “Activation” and the process of an actor being removed from memory is known as “Deactivation”.">

<meta itemprop="wordCount" content="402">



<meta itemprop="keywords" content="" /></head>
<body><div class="container"><header>
<h1>Orbit</h1>

</header>

<div class="content-container">
<main><h1>Actors</h1>
<p>Actors are the most common form of addressable and are suitable for most situations. The distinction is semantic and Actor interfaces are provided to facilitate the actor pattern.</p>
<p>Actors are never created or destroyed; they always exist conceptually. Not all actors in Orbit will be in-memory in the cluster at a given time. Actors which are in-memory are considered “activated” and those which are not are “deactivated”. The process of an actor being created in-memory is known as “Activation” and the process of an actor being removed from memory is known as “Deactivation”.</p>
<p>When a message is sent to an inactive actor, it will be placed somewhere in the pool of connected servers and activated. During the activation process, the actor’s state can be restored from a database. Actors are deactivated based on activity timeouts or server resource usage. Actor state can be persisted at any time or upon deactivation.</p>
<h2 id="actors">Actors</h2>
<p>Just like with an Addressable, Actors are defined by interfaces and implementations.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-kotlin" data-lang="kotlin"><span style="color:#66d9ef">package</span> orbit.carnival.actors

<span style="color:#66d9ef">import</span> orbit.client.actor.ActorWithStringKey
<span style="color:#66d9ef">import</span> orbit.client.actor.AbstractActor
 
<span style="color:#66d9ef">interface</span> <span style="color:#a6e22e">Game</span> : ActorWithStringKey {
    <span style="color:#66d9ef">suspend</span> <span style="color:#66d9ef">fun</span> <span style="color:#a6e22e">play</span>(playerId: String): PlayedGameResult
}

<span style="color:#66d9ef">class</span> <span style="color:#a6e22e">GameImpl</span>() : AbstractActor(), Game {
{
    <span style="color:#66d9ef">override</span> <span style="color:#66d9ef">suspend</span> <span style="color:#66d9ef">fun</span> <span style="color:#a6e22e">play</span>(playerId: String): PlayedGameResult {
        ... Game code
    }
}
</code></pre></div><h2 id="calling">Calling</h2>
<p>Actors are called via a proxy. A proxy is created via the Orbit runtime context, typically Stage or AddressableContext.</p>
<h3 id="accessing-the-proxy-factory">Accessing the Proxy Factory</h3>
<p><strong>Kotlin</strong></p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-kotlin" data-lang="kotlin"><span style="color:#75715e">// Via Orbit Client
</span><span style="color:#75715e"></span>orbit.actorFactory.createProxy&lt;Greeter&gt;()

<span style="color:#75715e">// From an Addressable
</span><span style="color:#75715e"></span>context.client.actorFactory.createProxy&lt;Greeter&gt;()
</code></pre></div><p><strong>Java</strong></p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#75715e">// Via Orbit Client
</span><span style="color:#75715e"></span>orbit<span style="color:#f92672">.</span><span style="color:#a6e22e">getActorFactory</span><span style="color:#f92672">().</span><span style="color:#a6e22e">createProxy</span><span style="color:#f92672">(</span>Greeter<span style="color:#f92672">.</span><span style="color:#a6e22e">class</span><span style="color:#f92672">);</span>

<span style="color:#75715e">// From an Addressable
</span><span style="color:#75715e"></span>getContext<span style="color:#f92672">().</span><span style="color:#a6e22e">getClient</span><span style="color:#f92672">().</span><span style="color:#a6e22e">getActorFactory</span><span style="color:#f92672">().</span><span style="color:#a6e22e">createProxy</span><span style="color:#f92672">(</span>Greeter<span style="color:#f92672">.</span><span style="color:#a6e22e">class</span><span style="color:#f92672">);</span>
</code></pre></div><h2 id="runtime-model">Runtime Model</h2>
<p>Orbit guarantees that only one activation of an actor with a given identity can exist at any one time in the cluster by default. As such, developers do not need to be concerned about keeping multiple activations/instances of an actor synchronized with one another.</p>
<p>By default, Orbit also guarantees that calls to actors can never be processed in parallel using safe execution mode. This means that developers do not need to worry about concurrent access to an actor. Two calls to an actor can not be processed in parallel.</p>
<h2 id="keys">Keys</h2>
<p>Like all addressables, every actor in Orbit has a key. Additionally, to ensure they are type safe every actor interface must choose only one key type, this is achieved by extending one of the following actor interfaces. An example of how this works can be seen below.</p>
<table>
<thead>
<tr>
<th>Actor Interface</th>
<th>JDK Type</th>
<th>Orbit Type</th>
</tr>
</thead>
<tbody>
<tr>
<td>ActorWithNoKey</td>
<td>N/A</td>
<td>NoKey</td>
</tr>
<tr>
<td>ActorWithStringKey</td>
<td>String</td>
<td>StringKey</td>
</tr>
<tr>
<td>ActorWithInt32Key</td>
<td>Integer</td>
<td>Int32Key</td>
</tr>
<tr>
<td>ActorWithInt64Key</td>
<td>Long</td>
<td>Int64Key</td>
</tr>
</tbody>
</table>
<div class="edit-meta">

<br></div><nav class="pagination"><a class="nav nav-prev" href="/orbit/getting-started/addressables/" title="Addressables"><i class="fas fa-arrow-left" aria-hidden="true"></i> Prev - Addressables</a>
<a class="nav nav-next" href="/orbit/getting-started/migration-from-1.x/" title="Migration from Orbit 1.x">Next - Migration from Orbit 1.x <i class="fas fa-arrow-right" aria-hidden="true"></i></a>
</nav><footer><p class="powered">Powered by <a href="https://gohugo.io">Hugo</a>. Theme by <a href="https://themes.gohugo.io/hugo-theme-techdoc/">TechDoc</a>. Designed by <a href="https://github.com/thingsym/hugo-theme-techdoc">Thingsym</a>.</p>
</footer>
</main><div class="sidebar">

<nav class="open-menu">
<ul>
<li class=""><a href="/orbit">Home</a></li>

<li class="parent"><a href="/orbit/getting-started/">Getting Started</a>
  
<ul class="sub-menu">
<li class=""><a href="/orbit/getting-started/prerequisites/">Prerequisites</a></li>
<li class=""><a href="/orbit/getting-started/hello-world/">Hello World</a></li>
<li class=""><a href="/orbit/getting-started/modules/">Modules</a></li>
<li class=""><a href="/orbit/getting-started/addressables/">Addressables</a></li>
<li class="active"><a href="/orbit/getting-started/actors/">Actors</a></li>
<li class=""><a href="/orbit/getting-started/migration-from-1.x/">Migration from Orbit 1.x</a></li>
</ul>
  
</li>

<li class=""><a href="/orbit/client/">Client</a>
  
<ul class="sub-menu">
<li class=""><a href="/orbit/client/configuration/">Client Configuration</a></li>
<li class=""><a href="/orbit/client/dependency-injection/">Dependency Injection</a></li>
<li class=""><a href="/orbit/client/shutdown/">Shutdown</a></li>
</ul>
  
</li>

<li class=""><a href="/orbit/server/">Server</a>
  
<ul class="sub-menu">
<li class=""><a href="/orbit/server/configuration/">Server Configuration</a></li>
<li class=""><a href="/orbit/server/hosting/">Hosting Orbit Server</a></li>
</ul>
  
</li>

<li class=""><a href="/orbit/contributing/">Contributing</a>
  
<ul class="sub-menu">
<li class=""><a href="/orbit/contributing/governance/">Governance</a></li>
<li class=""><a href="/orbit/contributing/standards-and-policies/">Standards &amp; Policies</a></li>
<li class=""><a href="/orbit/contributing/legal/">Legal</a></li>
</ul>
  
</li>
</ul>
</nav>



<div class="sidebar-footer"></div>
</div>
</div><a href="#" id="backtothetop-fixed" class="backtothetop"
 data-backtothetop-duration="600"
 data-backtothetop-easing="easeOutQuart"
 data-backtothetop-fixed-fadeIn="1000"
 data-backtothetop-fixed-fadeOut="1000"
 data-backtothetop-fixed-bottom="10"
 data-backtothetop-fixed-right="20">
<span class="fa-layers fa-fw">
<i class="fas fa-circle"></i>
<i class="fas fa-arrow-circle-up"></i>
</span></a>
</div>
</body>
</html>
